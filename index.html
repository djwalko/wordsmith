<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>WORDSMITH</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Mono:wght@400;500&family=Barlow:wght@500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d0d0f; --surface: #18181c; --surface2: #222228; --border: #2e2e38;
    --accent: #ff6b35; --accent2: #ff9a6c; --text: #f0f0f5; --muted: #6b6b80;
    --used: #2a2a30; --used-text: #3a3a45; --success: #4ade80; --error: #ff6b6b;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { background: var(--bg); color: var(--text); font-family: 'Syne', sans-serif;
    height: 100vh; height: 100dvh; display: flex; flex-direction: column; align-items: center; overflow: hidden; }
  .game-wrapper { width: 100%; max-width: 480px; height: 100vh; height: 100dvh; display: flex; flex-direction: column; }
  .header { padding: 8px 16px 8px; display: flex; align-items: center; justify-content: space-between;
    border-bottom: 1px solid var(--border); flex-shrink: 0; }
  .logo { font-size: 18px; font-weight: 700; letter-spacing: 3px; color: var(--accent);
    font-family: 'Barlow', sans-serif; text-transform: uppercase; }
  .logo span { color: var(--text); }
  .level-badge { font-family: 'DM Mono', monospace; font-size: 11px; background: var(--surface2);
    border: 1px solid var(--border); border-radius: 20px; padding: 3px 10px; color: var(--muted); }
  .level-badge strong { color: var(--accent); font-weight: 500; }
  .restart-btn { font-family: 'DM Mono', monospace; font-size: 11px; background: transparent;
    border: 1px solid var(--border); border-radius: 20px; padding: 3px 10px; color: var(--muted); cursor: pointer; transition: all 0.15s; }
  .restart-btn:hover { border-color: var(--accent2); color: var(--accent2); }
  .restart-confirm { display: none; align-items: center; gap: 6px; font-family: 'DM Mono', monospace; font-size: 11px; color: var(--muted); }
  .confirm-yes { background: var(--accent); color: #0d0d0f; border: none; border-radius: 10px;
    padding: 3px 10px; font-family: 'DM Mono', monospace; font-size: 11px; font-weight: 600; cursor: pointer; }
  .confirm-no { background: transparent; color: var(--muted); border: 1px solid var(--border);
    border-radius: 10px; padding: 3px 10px; font-family: 'DM Mono', monospace; font-size: 11px; cursor: pointer; }
  .progress-section { padding: 7px 16px; border-bottom: 1px solid var(--border); flex-shrink: 0; }
  .progress-label { font-size: 13px; text-transform: uppercase; letter-spacing: 2px; color: var(--muted);
    margin-bottom: 10px; font-family: 'DM Mono', monospace; }
  .blocked-label { font-size: 13px; text-transform: uppercase; letter-spacing: 2px; color: var(--muted);
    margin-top: 12px; font-family: 'DM Mono', monospace; text-align: center; }
  .blocked-label span { color: var(--error); }
  .alphabet-track { display: flex; flex-direction: column; align-items: center; gap: 4px; }
  .alpha-row { display: flex; gap: 5px; justify-content: center; }
  .alpha-letter { width: 34px; height: 34px; display: flex; align-items: center; justify-content: center;
    font-size: 15px; font-weight: 700; font-family: 'DM Mono', monospace; border-radius: 4px;
    border: 1px solid var(--border); color: var(--muted); background: var(--surface);
    transition: all 0.3s ease; text-transform: uppercase; }
  .alpha-letter.used { background: var(--accent); border-color: var(--accent); color: #0d0d0f; transform: scale(0.9); }
  .alpha-letter.blocked { color: var(--used-text); opacity: 0.45; position: relative; overflow: hidden; }
  .alpha-letter.blocked::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(to bottom right, transparent calc(50% - 1px), var(--used-text) calc(50% - 1px), var(--used-text) calc(50% + 1px), transparent calc(50% + 1px));
    pointer-events: none; }
  .alpha-letter.blocked-flash { opacity: 1 !important; border-color: var(--error) !important; color: var(--error) !important;
    background: rgba(255,107,107,0.2) !important; transform: scale(1.3) !important;
    animation: blockedFlash 0.65s ease forwards !important; }
  .alpha-letter.blocked-flash::after { background: linear-gradient(to bottom right, transparent calc(50% - 1.5px), var(--error) calc(50% - 1.5px), var(--error) calc(50% + 1.5px), transparent calc(50% + 1.5px)) !important; }
  @keyframes blockedFlash {
    0%   { transform: scale(1.0); opacity: 1; border-color: var(--error); color: var(--error); background: rgba(255,107,107,0.2); }
    20%  { transform: scale(1.35); }
    50%  { transform: scale(1.25); }
    100% { transform: scale(1); opacity: 0.45; border-color: var(--border); color: var(--used-text); background: transparent; }
  }
  .game-area { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
    padding: 12px 16px; gap: 12px; overflow: hidden; }
  .word-history { width: 100%; display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; min-height: 24px; }
  .word-chip { font-family: 'DM Mono', monospace; font-size: 10px; padding: 3px 8px; background: var(--surface2);
    border: 1px solid var(--border); border-radius: 20px; color: var(--muted); text-transform: uppercase;
    letter-spacing: 1px; animation: popIn 0.3s ease; }
  .objective { text-align: center; }
  .word-count-display { font-size: 48px; font-weight: 800; line-height: 1; color: var(--accent);
    font-family: 'DM Mono', monospace; letter-spacing: -2px; }
  .objective-text { font-size: 12px; color: var(--muted); margin-top: 2px; letter-spacing: 1px;
    text-transform: uppercase; font-family: 'DM Mono', monospace; }
  .input-area { width: 100%; display: flex; flex-direction: column; gap: 8px; }
  .letter-boxes { display: flex; gap: 6px; justify-content: center; flex-wrap: nowrap; width: 100%; }
  .letter-box { flex-shrink: 0; border: 2px solid var(--border); border-radius: 8px; background: var(--surface);
    display: flex; align-items: center; justify-content: center; font-weight: 700;
    font-family: 'DM Mono', monospace; text-transform: uppercase; color: var(--text);
    transition: border-color 0.15s, box-shadow 0.15s; }
  .letter-box.active-box { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(255,107,53,0.2); }
  .letter-box.error-box { border-color: var(--error); animation: shake 0.4s ease; }
  .letter-box.new-letter { background: rgba(255,107,53,0.15); border-color: var(--accent); color: var(--accent); }
  .letter-box.pop { animation: popIn 0.25s ease forwards; }
  @keyframes shake { 0%,100%{transform:translateX(0)} 20%{transform:translateX(-6px)} 40%{transform:translateX(6px)} 60%{transform:translateX(-4px)} 80%{transform:translateX(4px)} }
  @keyframes popIn { 0%{transform:scale(0.8);opacity:0} 60%{transform:scale(1.1)} 100%{transform:scale(1);opacity:1} }
  .status-msg { text-align: center; font-family: 'DM Mono', monospace; font-size: 12px;
    min-height: 18px; padding: 5px 10px; border-radius: 6px; }
  .status-msg.success { color: var(--success); background: rgba(74,222,128,0.08); }
  .status-msg.error   { color: var(--error);   background: rgba(255,107,107,0.08); }
  .status-msg.info    { color: var(--muted); }
  .submit-btn { width: 100%; padding: 12px; background: var(--accent); color: #0d0d0f; border: none;
    border-radius: 12px; font-family: 'Barlow', sans-serif; font-size: 16px; font-weight: 700;
    letter-spacing: 3px; cursor: pointer; transition: all 0.15s; text-transform: uppercase; }
  .submit-btn:hover:not(:disabled) { background: #ff8555; transform: translateY(-1px); }
  .submit-btn:disabled { opacity: 0.4; cursor: not-allowed; }
  .win-screen { display: none; flex-direction: column; align-items: center; justify-content: center;
    text-align: center; padding: 30px 20px; gap: 14px; flex: 1; }
  .win-title { font-size: 48px; font-weight: 700; color: var(--accent); letter-spacing: 4px;
    font-family: 'Barlow', sans-serif; text-transform: uppercase; }
  .win-subtitle { color: var(--muted); font-family: 'DM Mono', monospace; font-size: 13px; line-height: 1.6; }
  .play-again-btn { padding: 13px 30px; background: var(--accent); color: #0d0d0f; border: none;
    border-radius: 12px; font-family: 'Barlow', sans-serif; font-size: 16px; font-weight: 700;
    letter-spacing: 3px; cursor: pointer; text-transform: uppercase; margin-top: 6px; transition: all 0.15s; }
  .play-again-btn:hover { transform: translateY(-2px); background: #ff8555; }
  .keyboard-section { padding: 6px 12px 10px; border-top: 1px solid var(--border);
    background: var(--surface); flex-shrink: 0; }
  .keyboard-label { font-size: 9px; text-transform: uppercase; letter-spacing: 2px; color: var(--muted);
    margin-bottom: 7px; font-family: 'DM Mono', monospace; text-align: center; }
  .keyboard { display: flex; flex-direction: column; gap: 5px; align-items: center; }
  .key-row { display: flex; gap: 4px; }
  .key { min-width: 30px; height: 38px; padding: 0 4px; background: var(--surface2);
    border: 1px solid var(--border); border-radius: 6px; color: var(--text);
    font-family: 'DM Mono', monospace; font-size: 13px; font-weight: 500; cursor: pointer;
    display: flex; align-items: center; justify-content: center; transition: all 0.15s;
    user-select: none; -webkit-tap-highlight-color: transparent; position: relative;
    touch-action: manipulation; }
  .key:active:not(.key-used):not(.key-blocked) { background: var(--accent); color: #0d0d0f; transform: scale(0.92); }
  .key.key-used { background: #2e2e3a; border-color: #4a4a5a; color: #8888a0; cursor: default; }
  .key.key-used::after { content: "âœ“"; position: absolute; font-size: 7px; top: 2px; right: 2px; color: var(--accent); opacity: 0.9; }
  .key.key-blocked { background: var(--used); border-color: var(--used); color: var(--used-text);
    cursor: not-allowed; text-decoration: line-through; opacity: 0.45; }
  .key-special { min-width: 44px; font-size: 11px; }
  .instructions-screen { display: flex; flex-direction: column; align-items: center; justify-content: center;
    padding: 28px 24px; gap: 20px; flex: 1; text-align: center; }
  .instructions-title { font-family: 'Barlow', sans-serif; font-size: 13px; font-weight: 700;
    letter-spacing: 4px; text-transform: uppercase; color: var(--muted); }
  .instructions-headline { font-family: 'Barlow', sans-serif; font-size: 28px; font-weight: 700;
    letter-spacing: 2px; text-transform: uppercase; color: var(--text); line-height: 1.2; }
  .instructions-headline span { color: var(--accent); }
  .instructions-steps { display: flex; flex-direction: column; gap: 12px; width: 100%; max-width: 320px; }
  .instruction-step { display: flex; align-items: flex-start; gap: 14px; text-align: left;
    background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 12px 14px; }
  .step-num { font-family: 'Barlow', sans-serif; font-size: 22px; font-weight: 700; color: var(--accent);
    line-height: 1; flex-shrink: 0; width: 24px; }
  .step-text { font-family: 'DM Mono', monospace; font-size: 12px; color: var(--muted); line-height: 1.6; }
  .step-text strong { color: var(--text); font-weight: 500; }
  .start-btn { width: 100%; max-width: 320px; padding: 14px; background: var(--accent); color: #0d0d0f;
    border: none; border-radius: 12px; font-family: 'Barlow', sans-serif; font-size: 17px; font-weight: 700;
    letter-spacing: 3px; cursor: pointer; transition: all 0.15s; text-transform: uppercase; }
  .start-btn:hover { background: #ff8555; transform: translateY(-1px); }
</style>
</head>
<body>
<div class="game-wrapper">
  <div class="header">
    <div class="logo">WORD<span>SMITH</span></div>
    <div style="display:flex;align-items:center;gap:8px;">
      <div class="level-badge">Level <strong id="level-display">1</strong></div>
      <button class="restart-btn" id="restart-btn" onclick="promptRestart()">&#8635; Restart</button>
      <div class="restart-confirm" id="restart-confirm">
        <span>Sure?</span>
        <button class="confirm-yes" onclick="doRestart()">Yes</button>
        <button class="confirm-no" onclick="cancelRestart()">No</button>
      </div>
    </div>
  </div>
  <div class="progress-section" id="progress-section" style="display:none;">
    <div class="progress-label">Letters Used &#8212; <span id="used-count">0</span>/<span id="available-count">23</span></div>
    <div class="alphabet-track" id="alpha-track"></div>
    <div class="blocked-label">Blocked &#8212; <span id="blocked-display"></span></div>
  </div>
  <div class="instructions-screen" id="instructions-screen">
    <div class="instructions-title">How to play</div>
    <div class="instructions-headline">Use every<br>letter of the<br><span>alphabet</span></div>
    <div class="instructions-steps">
      <div class="instruction-step">
        <div class="step-num">1</div>
        <div class="step-text">Create a <strong>3-letter word</strong> using the available letters.</div>
      </div>
      <div class="instruction-step">
        <div class="step-num">2</div>
        <div class="step-text">Each round you need to create a word that is <strong>one letter longer</strong>.</div>
      </div>
      <div class="instruction-step">
        <div class="step-num">3</div>
        <div class="step-text">Use all the <strong>available letters</strong> to win the game!</div>
      </div>
    </div>
    <button class="start-btn" onclick="startGame()">START PLAYING</button>
  </div>
  <div class="game-area" id="game-area" style="display:none;">
    <div class="word-history" id="word-history"></div>
    <div class="objective">
      <div class="word-count-display" id="word-length-display">3</div>
      <div class="objective-text">letter word</div>
    </div>
    <div class="input-area">
      <div class="letter-boxes" id="letter-boxes"></div>
      <div class="status-msg info" id="status-msg">Enter a 3-letter word to begin</div>
      <button class="submit-btn" id="submit-btn" onclick="submitWord()">SUBMIT WORD</button>
    </div>
  </div>
  <div class="win-screen" id="win-screen">
    <div class="win-title" id="win-title">AMAZING!</div>
    <div class="win-subtitle" id="win-msg"></div>
    <button class="play-again-btn" onclick="resetGame()">PLAY AGAIN</button>
  </div>
  <div class="keyboard-section" id="keyboard-section" style="display:none;">
    <div class="keyboard-label">Tap to type &middot; Used letters greyed out</div>
    <div class="keyboard" id="keyboard"></div>
  </div>
</div>
</body>
<!-- Dictionary loaded from external file. dictionary.js must define: const DICTIONARY = new Set([...words...]); -->
<script src="dictionary.js"></script>
<script>
    

    const KEYBOARD_ROWS = [
      ['q','w','e','r','t','y','u','i','o','p'],
      ['a','s','d','f','g','h','j','k','l'],
      ['\u232b','z','x','c','v','b','n','m']
    ];

    let currentLength = 3;
    let currentInput = '';
    let usedLetters = new Set();
    let blockedLetters = new Set();
    let wordsPlayed = [];

    function init() { buildAlphaTrack(); buildKeyboard(); }

    function getDailySeed() {
      const now = new Date();
      const dateStr = now.getFullYear() * 10000 + (now.getMonth() + 1) * 100 + now.getDate();
      return dateStr;
    }

    function seededRandom(seed) {
      // Mulberry32 - a fast, good-quality 32-bit seeded RNG
      return function() {
        seed |= 0; seed = seed + 0x6D2B79F5 | 0;
        let t = Math.imul(seed ^ seed >>> 15, 1 | seed);
        t = t + Math.imul(t ^ t >>> 7, 61 | t) ^ t;
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
      };
    }

    function generateBlockedLetters() {
      const pool = 'abcdefghijklmnopqrstuvwxyz'.split('');
      const rand = seededRandom(getDailySeed());
      // Fisher-Yates shuffle using seeded RNG, then take first 3
      for (let i = pool.length - 1; i > 0; i--) {
        const j = Math.floor(rand() * (i + 1));
        [pool[i], pool[j]] = [pool[j], pool[i]];
      }
      blockedLetters = new Set(pool.slice(0, 3));
    }

    function buildAlphaTrack() {
      const track = document.getElementById('alpha-track');
      track.innerHTML = '';
      const rows = [[0,9],[9,18],[18,26]];
      rows.forEach(([start, end]) => {
        const rowEl = document.createElement('div');
        rowEl.className = 'alpha-row';
        for (let i = start; i < end; i++) {
          const l = String.fromCharCode(97 + i);
          const el = document.createElement('div');
          el.id = 'alpha-' + l; el.textContent = l;
          if (blockedLetters.has(l)) el.className = 'alpha-letter blocked';
          else el.className = 'alpha-letter' + (usedLetters.has(l) ? ' used' : '');
          rowEl.appendChild(el);
        }
        track.appendChild(rowEl);
      });
    }

    function buildKeyboard() {
      const kb = document.getElementById('keyboard');
      kb.innerHTML = '';
      KEYBOARD_ROWS.forEach(row => {
        const rowEl = document.createElement('div');
        rowEl.className = 'key-row';
        row.forEach(key => {
          const btn = document.createElement('button');
          const special = key === '\u232b' || key === '\u21b5';
          btn.className = 'key' + (special ? ' key-special' : '');
          btn.id = 'key-' + key; btn.textContent = key;
          if (!special) {
            if (blockedLetters.has(key)) btn.classList.add('key-blocked');
            else if (usedLetters.has(key)) btn.classList.add('key-used');
          }
          btn.addEventListener('click', () => handleKeyPress(key));
          rowEl.appendChild(btn);
        });
        kb.appendChild(rowEl);
      });
    }

    function buildLetterBoxes() {
      const container = document.getElementById('letter-boxes');
      container.innerHTML = '';
      const w = container.parentElement.clientWidth || 320;
      const boxSize = Math.max(24, Math.min(52, Math.floor((w - (currentLength - 1) * 6) / currentLength)));
      const fontSize = Math.max(11, Math.floor(boxSize * 0.45));
      const seenInWord = new Set();
      for (let i = 0; i < currentLength; i++) {
        const box = document.createElement('div');
        box.className = 'letter-box'; box.id = 'box-' + i;
        box.style.cssText = 'width:' + boxSize + 'px;height:' + boxSize + 'px;font-size:' + fontSize + 'px';
        if (i < currentInput.length) {
          const letter = currentInput[i]; box.textContent = letter.toUpperCase();
          if (!usedLetters.has(letter) && !seenInWord.has(letter)) box.classList.add('new-letter');
          seenInWord.add(letter);
        }
        container.appendChild(box);
      }
    }

    function handleKeyPress(key) {
      if (key === '\u232b') {
        if (currentInput.length > 0) { currentInput = currentInput.slice(0, -1); buildLetterBoxes(); }
      } else if (key === '\u21b5') {
        submitWord();
      } else {
        if (blockedLetters.has(key)) {
          const el = document.getElementById('alpha-' + key);
          if (el) {
            el.classList.remove('blocked-flash');
            void el.offsetWidth; // force reflow
            el.classList.add('blocked-flash');
            setTimeout(() => el.classList.remove('blocked-flash'), 700);
          }
          return;
        }
        if (currentInput.length < currentLength) {
          currentInput += key; buildLetterBoxes();
          const box = document.getElementById('box-' + (currentInput.length - 1));
          if (box) { box.classList.add('pop'); setTimeout(() => box.classList.remove('pop'), 300); }
        }
      }
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Backspace') { e.preventDefault(); handleKeyPress('\u232b'); }
      else if (e.key === 'Enter') handleKeyPress('\u21b5');
      else if (e.key.length === 1 && /[a-zA-Z]/.test(e.key))
        handleKeyPress(e.key.toLowerCase());
    });

    function submitWord() {
      if (typeof DICTIONARY === 'undefined') {
        showStatus('Dictionary not loaded. Check dictionary.js is in the same folder.', 'error');
        return;
      }
      const word = currentInput.toLowerCase();
      if (word.length !== currentLength) {
        showStatus('Need exactly ' + currentLength + ' letters!', 'error');
        shakeBoxes(); return;
      }
      if (!DICTIONARY.has(word)) {
        showStatus('"' + word.toUpperCase() + '" is not in the word list. Try again!', 'error');
        shakeBoxes(); currentInput = ''; buildLetterBoxes(); return;
      }
      // Check at least one new letter
      const hasNewLetter = [...word].some(ch => !usedLetters.has(ch) && !blockedLetters.has(ch));
      if (!hasNewLetter) {
        showStatus('Word must contain at least one new letter!', 'error');
        shakeBoxes(); currentInput = ''; buildLetterBoxes(); return;
      }
      // Accepted!
      wordsPlayed.push(word);
      const newLetters = [];
      for (const ch of word) {
        if (!usedLetters.has(ch)) { usedLetters.add(ch); newLetters.push(ch); }
      }
      newLetters.forEach(l => {
        const el = document.getElementById('alpha-' + l);
        if (el) el.className = 'alpha-letter used';
        const keyEl = document.getElementById('key-' + l);
        if (keyEl) { keyEl.classList.remove('key-blocked'); keyEl.classList.add('key-used'); }
      });
      document.getElementById('used-count').textContent = usedLetters.size;
      const chip = document.createElement('div');
      chip.className = 'word-chip'; chip.textContent = word;
      document.getElementById('word-history').appendChild(chip);
      showStatus('\u2713 "' + word.toUpperCase() + '" accepted! +' + newLetters.length + ' new letter' + (newLetters.length !== 1 ? 's' : ''), 'success');
      const availableLetters = 26 - blockedLetters.size;
      if (usedLetters.size >= availableLetters) { setTimeout(showWin, 800); return; }
      currentLength++; currentInput = '';
      document.getElementById('level-display').textContent = wordsPlayed.length + 1;
      document.getElementById('word-length-display').textContent = currentLength;
      buildLetterBoxes();
      setTimeout(() => showStatus('Now enter a ' + currentLength + '-letter word!', 'info'), 1000);
    }

    function shakeBoxes() {
      document.querySelectorAll('.letter-box').forEach(b => {
        b.classList.add('error-box'); setTimeout(() => b.classList.remove('error-box'), 500);
      });
    }

    function showStatus(msg, type) {
      const el = document.getElementById('status-msg');
      el.textContent = msg; el.className = 'status-msg ' + type;
    }

    function showWin() {
      document.getElementById('game-area').style.display = 'none';
      document.getElementById('keyboard-section').style.display = 'none';
      document.getElementById('win-title').textContent = 'AMAZING!';
      document.getElementById('win-title').style.color = 'var(--accent)';
      document.getElementById('win-screen').style.display = 'flex';
      document.getElementById('win-msg').innerHTML =
        'You used all 26 letters in <strong style="color:var(--accent)">' + wordsPlayed.length + '</strong> words!<br><br>' +
        '<span style="font-size:11px;color:var(--muted)">' + wordsPlayed.map(w => w.toUpperCase()).join(' \u2192 ') + '</span>';
    }

    function startGame() {
      generateBlockedLetters(); buildAlphaTrack(); buildKeyboard();
      document.getElementById('available-count').textContent = 26 - blockedLetters.size;
      document.getElementById('instructions-screen').style.display = 'none';
      document.getElementById('progress-section').style.display = '';
      document.getElementById('game-area').style.display = '';
      document.getElementById('keyboard-section').style.display = '';
      buildLetterBoxes();
      const bl = [...blockedLetters].map(l => l.toUpperCase()).sort().join(', ');
      document.getElementById('blocked-display').textContent = bl;
      showStatus('Enter a 3-letter word!', 'info');
    }

    function promptRestart() {
      if (wordsPlayed.length === 0) { resetGame(); return; }
      document.getElementById('restart-btn').style.display = 'none';
      document.getElementById('restart-confirm').style.display = 'flex';
    }
    function doRestart() { cancelRestart(); resetGame(); }
    function cancelRestart() {
      document.getElementById('restart-btn').style.display = '';
      document.getElementById('restart-confirm').style.display = 'none';
    }

    function resetGame() {
      currentLength = 3; currentInput = '';
      usedLetters = new Set(); blockedLetters = new Set(); wordsPlayed = [];
      document.getElementById('restart-btn').style.display = '';
      document.getElementById('restart-confirm').style.display = 'none';
      document.getElementById('game-area').style.display = 'none';
      document.getElementById('win-screen').style.display = 'none';
      document.getElementById('progress-section').style.display = 'none';
      document.getElementById('keyboard-section').style.display = 'none';
      document.getElementById('instructions-screen').style.display = '';
      document.getElementById('word-history').innerHTML = '';
      document.getElementById('level-display').textContent = '1';
      document.getElementById('used-count').textContent = '0';
      document.getElementById('available-count').textContent = '23';
      document.getElementById('word-length-display').textContent = '3';
      buildAlphaTrack(); buildKeyboard();
      showStatus('Enter a 3-letter word to begin', 'info');
      document.getElementById('submit-btn').disabled = false;
    }

    window.addEventListener('resize', () => {
      if (document.getElementById('game-area').style.display !== 'none') buildLetterBoxes();
    });

    init();
</script>
</html>